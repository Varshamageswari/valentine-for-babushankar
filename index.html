<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>You Are My Universe âœ¨</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --primary-pink: #ff6bd6;
    --deep-space: #000010;
}

body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: radial-gradient(circle at top, #0b1d3a, var(--deep-space));
  color: #ffffff;
  text-align: center;
  overflow-x: hidden;
  cursor: none; /* Custom cursor handling */
}

#overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: var(--deep-space);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: opacity 0.8s ease;
}

#overlay.hidden { opacity: 0; pointer-events: none; }

section { padding: 80px 20px; }
h1, h2 { color: #ffd6ff; text-shadow: 0 0 10px rgba(255, 214, 255, 0.3); }

/* Interactive Cards */
.card {
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(12px);
  border-radius: 25px;
  padding: 40px;
  max-width: 800px;
  margin: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s;
}

.card:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: 0 20px 40px rgba(255, 107, 214, 0.2);
}

.gallery img {
  width: 100%;
  border-radius: 20px;
  transition: transform 0.5s ease;
  filter: grayscale(20%);
}

.gallery img:hover {
  transform: scale(1.05) rotate(2deg);
  filter: grayscale(0%);
}

/* Heart Particles */
.heart-particle {
  position: absolute;
  pointer-events: none;
  font-size: 20px;
  animation: floatUp 1.5s ease-out forwards;
  z-index: 9998;
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
}

/* Astronaut Space Pet */
#astronaut {
  position: fixed;
  width: 60px;
  height: 60px;
  pointer-events: none;
  z-index: 9997;
  transition: top 0.2s ease-out, left 0.2s ease-out;
  filter: drop-shadow(0 0 5px white);
}

#toast {
  position: fixed;
  bottom: -100px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--primary-pink);
  color: white;
  padding: 15px 35px;
  border-radius: 50px;
  font-weight: bold;
  transition: bottom 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  z-index: 10000;
}
#toast.show { bottom: 40px; }

button {
  padding: 15px 35px;
  border: none;
  border-radius: 35px;
  background: var(--primary-pink);
  color: white;
  font-weight: bold;
  cursor: pointer;
  margin: 10px;
  transition: 0.3s;
}
button:hover { background: #ff3dc5; transform: scale(1.1); }

#youtube-player { position: absolute; top: -999px; }
</style>
</head>

<body>

<div id="overlay">
  <h1>ğŸŒŒ Our Universe</h1>
  <button onclick="startExperience()">âœ¨ Enter âœ¨</button>
</div>

<div id="toast">ğŸµ "I just wanna be yours..." â¤ï¸</div>
<div id="astronaut">ğŸ§‘â€ğŸš€</div>
<div id="youtube-player"></div>

<section>
  <h1 style="font-size: 3rem;">ğŸŒŒ Happy Valentineâ€™s Day ğŸŒŒ</h1>
  <h2 style="font-size: 2rem;">Babushankar</h2>
  <button onclick="toggleMusic()" id="musicToggle">ğŸµ Loading Music...</button>
</section>

<section>
  <div class="card">
    <h2>ğŸ’Œ My Love Letter</h2>
    <p>Among billions of stars, my heart found you. You are my home, my comfort, and my favorite version of the universe. â¤ï¸</p>
  </div>
</section>

<section>
  <div class="card">
    <div class="gallery">
      <img src="loves1.jpeg" alt="Us 1">
      <img src="loves2.jpeg" alt="Us 2">
    </div>
  </div>
</section>

<section id="quiz-section">
  <div class="card">
    <h2>ğŸ’– How Well Do You Know Us?</h2>
    <p id="question">Loading quiz...</p>
    <div id="answers"></div>
    <p id="quizResult" style="height: 20px; margin-top: 10px;"></p>
  </div>
</section>

<section>
  <div class="card">
    <h2>ğŸ” Our Secret</h2>
    <input id="password" placeholder="Code word..." style="padding:12px; border-radius:20px; border:none; color: #000;">
    <button onclick="unlockLove()">Unlock</button>
    <p id="secretLove" style="display:none; margin-top:20px; font-size: 22px;">Babushankar â¤ï¸ Forever â™¾ï¸</p>
  </div>
</section>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;
let isPlayerReady = false;
let toastShown = false;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('youtube-player', {
    height: '0', width: '0',
    videoId: 'nyuo9-OjNNg',
    playerVars: { 'autoplay': 0, 'loop': 1, 'playlist': 'nyuo9-OjNNg' },
    events: {
      'onReady': () => {
        isPlayerReady = true;
        document.getElementById("musicToggle").innerText = "ğŸµ Pause Song";
      }
    }
  });
}

function startExperience() {
  document.getElementById("overlay").classList.add('hidden');
  if (isPlayerReady) {
    player.playVideo();
    // 200ms polling for "resilient" caption timing
    setInterval(checkChorusTime, 200); 
  }
}

function checkChorusTime() {
  if (player && player.getPlayerState() === YT.PlayerState.PLAYING) {
    const time = player.getCurrentTime();
    // Syncing to the specific line "I just wanna be yours"
    if (time >= 42.8 && time < 49 && !toastShown) {
      document.getElementById("toast").classList.add("show");
      toastShown = true;
      setTimeout(() => document.getElementById("toast").classList.remove("show"), 6000);
    }
  }
}

function toggleMusic() {
  if (player && typeof player.getPlayerState === 'function') {
    const state = player.getPlayerState();
    state === 1 ? player.pauseVideo() : player.playVideo();
  }
}

/* ğŸ–±ï¸ Interaction: Floating Hearts & Astronaut */
document.addEventListener('mousemove', (e) => {
  // Move Astronaut
  const astro = document.getElementById("astronaut");
  astro.style.left = (e.clientX + 20) + "px";
  astro.style.top = (e.clientY + 20) + "px";

  // Create Heart Trail
  if (Math.random() > 0.8) {
    const heart = document.createElement("div");
    heart.className = "heart-particle";
    heart.innerHTML = "â¤ï¸";
    heart.style.left = e.pageX + "px";
    heart.style.top = e.pageY + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 1500);
  }
});

/* ğŸ“ Quiz Logic */
const quizData = [
  { q: "Where did we first meet? ğŸ’«", options: ["Office gathering", "Metro", "Online"], answer: "Office gathering" },
  { q: "When did it happen? ğŸ“…", options: ["Feb 14", "Feb 18", "March 1"], answer: "Feb 18" },
  { q: "Babushankarâ€™s cutest habit? ğŸ¥°", options: ["Being silent", "Saying yes to me", "Always smiling"], answer: "Saying yes to me" }
];
let qIndex = 0; let score = 0;

function loadQuiz() {
  const qEl = document.getElementById("question");
  const aDiv = document.getElementById("answers");
  if (qIndex >= quizData.length) {
    qEl.innerHTML = `Score: ${score}/3 ğŸ’– You win my heart!`;
    aDiv.innerHTML = ""; return;
  }
  const q = quizData[qIndex];
  qEl.innerText = q.q; aDiv.innerHTML = "";
  q.options.forEach(opt => {
    const b = document.createElement("button");
    b.innerText = opt; b.onclick = () => {
      if(opt === q.answer) score++;
      document.getElementById("quizResult").innerText = opt === q.answer ? "ğŸ¥°" : "ğŸ˜˜";
      qIndex++; setTimeout(() => { document.getElementById("quizResult").innerText = ""; loadQuiz(); }, 800);
    };
    aDiv.appendChild(b);
  });
}

function unlockLove() {
  if (document.getElementById("password").value.toLowerCase() === "bava") {
    document.getElementById("secretLove").style.display = "block";
  }
}

loadQuiz();
</script>
</body>
</html>
